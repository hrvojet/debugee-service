package htrcak.backend.core.projects;

import com.nimbusds.oauth2.sdk.util.StringUtils;
import htrcak.backend.core.projects.data.ProjectDTO;
import htrcak.backend.core.projects.data.ProjectPatchValidator;
import htrcak.backend.core.projects.data.ProjectPostValidator;
import htrcak.backend.core.projects.data.ProjectRepositoryJPA;
import htrcak.backend.core.user.model.User;
import htrcak.backend.utils.SecurityContextHolderUtils;
import io.github.dsibilio.badgemaker.core.BadgeFormatBuilder;
import io.github.dsibilio.badgemaker.core.BadgeMaker;
import io.github.dsibilio.badgemaker.model.BadgeFormat;
import io.github.dsibilio.badgemaker.model.NamedColor;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.data.domain.Page;
import org.springframework.data.domain.Pageable;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Service;

import java.text.MessageFormat;
import java.util.Optional;

import static htrcak.backend.utils.jpa.ProjectSpecification.favouriteByUser;
import static htrcak.backend.utils.jpa.ProjectSpecification.findProject;
import static org.springframework.data.jpa.domain.Specification.where;

@Service
public class ProjectServiceImpl implements ProjectService{

    Logger logger = LoggerFactory.getLogger(ProjectServiceImpl.class);

    private final ProjectRepositoryJPA projectRepositoryJPA;
    private final SecurityContextHolderUtils securityContextHolderUtils;

    public ProjectServiceImpl(ProjectRepositoryJPA projectRepositoryJPA, SecurityContextHolderUtils securityContextHolderUtils) {
        this.projectRepositoryJPA = projectRepositoryJPA;
        this.securityContextHolderUtils = securityContextHolderUtils;
    }


    @Override
    public Page<ProjectDTO> findAll(Pageable pageable, String spbt) {
        return projectRepositoryJPA.findAll(where(findProject(StringUtils.isNotBlank(spbt) ? spbt : null)), pageable).map(this::mapProjectToDTO);
    }

    @Override
    public Page<ProjectDTO> findAllFavourites(Pageable pageable, String spbt) {

        User user = securityContextHolderUtils.getCurrentUser();

        return projectRepositoryJPA.findAll(where(favouriteByUser(user.getId()).and(findProject(StringUtils.isNotBlank(spbt) ? spbt : null))), pageable)
                .map(this::mapProjectToDTO);
    }


    @Override
    public ProjectDTO findById(long id) {
        return projectRepositoryJPA.findById(id).stream().map(this::mapProjectToDTO).findAny().orElse(null);
    }

    @Override
    public ResponseEntity<ProjectDTO> saveNewProject(ProjectPostValidator projectPost) {
        Project saved = this.projectRepositoryJPA.save(new Project(
                projectPost.getTitle(),
                projectPost.getDescription(),
                0,
                0,
                securityContextHolderUtils.getCurrentUser()));
            return new ResponseEntity<>(mapProjectToDTO(saved), HttpStatus.CREATED);
    }

    @Override
    public ResponseEntity<?> deleteById(long id) {

        long projectForDeletionOwnerId = this.projectRepositoryJPA.getById(id).getOwner().getId();
        if (projectForDeletionOwnerId == securityContextHolderUtils.getCurrentUser().getId() || securityContextHolderUtils.getCurrentUser().isAdmin()) {
            this.projectRepositoryJPA.deleteById(id);
            return new ResponseEntity<>(HttpStatus.NO_CONTENT);
        }

        logger.warn(MessageFormat.format("User with id {0} not allowed to delete project with id {1}", securityContextHolderUtils.getCurrentUser().getId(), id));
        return new ResponseEntity<>(HttpStatus.FORBIDDEN);
    }

    @Override
    public ResponseEntity<?> updateById(ProjectPatchValidator projectPatchValidator, long id) {
        Optional<Project> project = this.projectRepositoryJPA.findById(id);
        if (project.isEmpty()) {
            logger.warn(MessageFormat.format("There is no project with id [{0}]", id));
            return new ResponseEntity<>(HttpStatus.NOT_FOUND);
        } else if (project.get().getOwner().getId() != securityContextHolderUtils.getCurrentUser().getId()) {
            logger.warn(MessageFormat.format("User with id [{0}] not allowed to modify project with id [{1}]", securityContextHolderUtils.getCurrentUser().getId(), id));
            return new ResponseEntity<>(HttpStatus.FORBIDDEN);
        }

        boolean projectIsUpdated = false;
        if (projectPatchValidator.getDescription() != null && !projectPatchValidator.getDescription().isBlank() && !projectPatchValidator.getDescription().equals(project.get().getDescription())) {
            project.get().setDescription(projectPatchValidator.getDescription());
            projectIsUpdated = true;
        }
        if (projectPatchValidator.getTitle() != null && !projectPatchValidator.getTitle().isBlank() && !projectPatchValidator.getTitle().equals(project.get().getTitle())) {
            project.get().setTitle(projectPatchValidator.getTitle());
            projectIsUpdated = true;
        }

        if (projectIsUpdated) {
            return new ResponseEntity<>(mapProjectToDTO(this.projectRepositoryJPA.save(project.get())), HttpStatus.OK);
        } else {
            logger.debug(MessageFormat.format("No change applied to project with {0} ID", id));
            return new ResponseEntity<>(HttpStatus.NO_CONTENT);
        }
    }

    @Override
    public ResponseEntity<?> addProjectToFavourites(Long projectId) {
        Optional<Project> project = this.projectRepositoryJPA.findById(projectId);
        if (project.isEmpty()) {
            logger.warn(MessageFormat.format("There is no project with id [{0}]", projectId));
            return new ResponseEntity<>(HttpStatus.NOT_FOUND);
        }

        User user = securityContextHolderUtils.getCurrentUser();
        project.get().addProjectAsFavourite(user);

        return new ResponseEntity<>(mapProjectToDTO(this.projectRepositoryJPA.save(project.get())), HttpStatus.OK);
    }

    @Override
    public ResponseEntity<?> removeProjectFromFavourites(Long projectId) {
        Optional<Project> project = this.projectRepositoryJPA.findById(projectId);
        if (project.isEmpty()) {
            logger.warn(MessageFormat.format("There is no project with id [{0}]", projectId));
            return new ResponseEntity<>(HttpStatus.NOT_FOUND);
        }

        User user = securityContextHolderUtils.getCurrentUser();
        project.get().removeProjectAsFavourite(user);

        return new ResponseEntity<>(mapProjectToDTO(this.projectRepositoryJPA.save(project.get())), HttpStatus.OK);
    }

    @Override
    public ResponseEntity<String> getBadgeForProject(Long projectId) {
        Optional<Project> project = this.projectRepositoryJPA.findById(projectId);
        if (project.isEmpty()) {
            logger.warn(MessageFormat.format("There is no project with id [{0}]", projectId));
            return new ResponseEntity<>(HttpStatus.NOT_FOUND);
        }

        int openedIssues = project.get().getOpenedIssues();

        String logo = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEyOCIgaGVpZ2h0PSIxMjgiPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzExLjY3IDAuOTkgMTEuMzQgMS45OCAxMSAzIEMxMy45NyAzLjMzIDE2Ljk0IDMuNjYgMjAgNCBDMjAgNS4zMiAyMCA2LjY0IDIwIDggQzIxLjMyIDggMjIuNjQgOCAyNCA4IEMyNCA5LjMyIDI0IDEwLjY0IDI0IDEyIEMyNS4zMiAxMiAyNi42NCAxMiAyOCAxMiBDMjggMTMuMzIgMjggMTQuNjQgMjggMTYgQzI5LjMyIDE2IDMwLjY0IDE2IDMyIDE2IEMzMi40OTUgMjIuOTMgMzIuNDk1IDIyLjkzIDMzIDMwIEMzOC42MSAzMCA0NC4yMiAzMCA1MCAzMCBDNTAgMjguNjggNTAgMjcuMzYgNTAgMjYgQzUwLjY2IDI2IDUxLjMyIDI2IDUyIDI2IEM1MS42NyAyMi43IDUxLjM0IDE5LjQgNTEgMTYgQzUyLjMyIDE2IDUzLjY0IDE2IDU1IDE2IEM1NSAxNC42OCA1NSAxMy4zNiA1NSAxMiBDNTYuMzIgMTIgNTcuNjQgMTIgNTkgMTIgQzU5IDEwLjY4IDU5IDkuMzYgNTkgOCBDNjAuNjUgOCA2Mi4zIDggNjQgOCBDNjQgNi42OCA2NCA1LjM2IDY0IDQgQzY2LjY0IDMuNjcgNjkuMjggMy4zNCA3MiAzIEM3MiAyLjAxIDcyIDEuMDIgNzIgMCBDNzYuMjkgMCA4MC41OCAwIDg1IDAgQzg1IDAuOTkgODUgMS45OCA4NSAzIEM4Ni42NSAzIDg4LjMgMyA5MCAzIEM5MCAzLjY2IDkwIDQuMzIgOTAgNSBDOTAuOTkgNS40OTUgOTAuOTkgNS40OTUgOTIgNiBDOTMuMzMzMzMzMzMgNi42NjY2NjY2NyA5NC42NjY2NjY2NyA3LjMzMzMzMzMzIDk2IDggQzk2IDkuMzIgOTYgMTAuNjQgOTYgMTIgQzk2Ljk5IDEyIDk3Ljk4IDEyIDk5IDEyIEM5OSAxMy42NSA5OSAxNS4zIDk5IDE3IEM5OS45OSAxNyAxMDAuOTggMTcgMTAyIDE3IEMxMDIgMjAuMyAxMDIgMjMuNiAxMDIgMjcgQzk5LjY5IDI3IDk3LjM4IDI3IDk1IDI3IEM5NSAyNC4wMyA5NSAyMS4wNiA5NSAxOCBDOTMuNjggMTggOTIuMzYgMTggOTEgMTggQzkxIDE2LjM1IDkxIDE0LjcgOTEgMTMgQzkwLjAxIDEzIDg5LjAyIDEzIDg4IDEzIEM4OCAxMS42OCA4OCAxMC4zNiA4OCA5IEM4MS43MyA5IDc1LjQ2IDkgNjkgOSBDNjkgMTAuMzIgNjkgMTEuNjQgNjkgMTMgQzY3LjM1IDEzIDY1LjcgMTMgNjQgMTMgQzY0IDE0LjMyIDY0IDE1LjY0IDY0IDE3IEM2Mi41MTUgMTcuNDk1IDYyLjUxNSAxNy40OTUgNjEgMTggQzU5Ljk2NDUyOTUzIDIxLjAyMjgyNjQzIDU5Ljk2NDUyOTUzIDIxLjAyMjgyNjQzIDU5LjMxMjUgMjQuNTYyNSBDNTkuMDYxMTMyODEgMjUuNzYwMDM5MDYgNTguODA5NzY1NjIgMjYuOTU3NTc4MTIgNTguNTUwNzgxMjUgMjguMTkxNDA2MjUgQzU4LjM2OTAyMzQ0IDI5LjExODI0MjE5IDU4LjE4NzI2NTYyIDMwLjA0NTA3ODEzIDU4IDMxIEM2MC4zMSAzMSA2Mi42MiAzMSA2NSAzMSBDNjUgMzIuMzIgNjUgMzMuNjQgNjUgMzUgQzY3LjY0IDM1IDcwLjI4IDM1IDczIDM1IEM3MyAzNi42NSA3MyAzOC4zIDczIDQwIEM3NC45OCA0MCA3Ni45NiA0MCA3OSA0MCBDNzkgNDEuNjUgNzkgNDMuMyA3OSA0NSBDNzkuOTkgNDUgODAuOTggNDUgODIgNDUgQzgyIDQ2LjMyIDgyIDQ3LjY0IDgyIDQ5IEM4Mi45OSA0OSA4My45OCA0OSA4NSA0OSBDODUgNTAuNjUgODUgNTIuMyA4NSA1NCBDODUuOTkgNTQgODYuOTggNTQgODggNTQgQzg4IDY0LjIzIDg4IDc0LjQ2IDg4IDg1IEM4Ni42OCA4NSA4NS4zNiA4NSA4NCA4NSBDODMuNjcgODYuNjUgODMuMzQgODguMyA4MyA5MCBDODIuMDEgOTAgODEuMDIgOTAgODAgOTAgQzgwIDkyLjMxIDgwIDk0LjYyIDgwIDk3IEM3Ny42OSA5NyA3NS4zOCA5NyA3MyA5NyBDNzMgOTcuNjYgNzMgOTguMzIgNzMgOTkgQzcwLjY5IDk5IDY4LjM4IDk5IDY2IDk5IEM2NiAxMDAuMzIgNjYgMTAxLjY0IDY2IDEwMyBDNjQuMDIgMTAzIDYyLjA0IDEwMyA2MCAxMDMgQzYwIDEwNC4zMiA2MCAxMDUuNjQgNjAgMTA3IEM0Ny43OSAxMDcgMzUuNTggMTA3IDIzIDEwNyBDMjMgMTA1LjY4IDIzIDEwNC4zNiAyMyAxMDMgQzIxLjAyIDEwMyAxOS4wNCAxMDMgMTcgMTAzIEMxNyAxMDEuNjggMTcgMTAwLjM2IDE3IDk5IEMxNS4wMiA5OSAxMy4wNCA5OSAxMSA5OSBDMTEgOTguMzQgMTEgOTcuNjggMTEgOTcgQzguNjkgOTcgNi4zOCA5NyA0IDk3IEM0IDk0LjY5IDQgOTIuMzggNCA5MCBDMi42OCA4OS42NyAxLjM2IDg5LjM0IDAgODkgQzAgODcuNjggMCA4Ni4zNiAwIDg1IEMtMS4zMiA4NSAtMi42NCA4NSAtNCA4NSBDLTQgNzQuNzcgLTQgNjQuNTQgLTQgNTQgQy0zLjM0IDU0IC0yLjY4IDU0IC0yIDU0IEMtMiA1Mi4zNSAtMiA1MC43IC0yIDQ5IEMtMS4wMSA0OSAtMC4wMiA0OSAxIDQ5IEMxIDQ3LjY4IDEgNDYuMzYgMSA0NSBDMS45OSA0NSAyLjk4IDQ1IDQgNDUgQzQuMzMgNDMuMzUgNC42NiA0MS43IDUgNDAgQzYuNjUgNDAgOC4zIDQwIDEwIDQwIEMxMCAzOC4zNSAxMCAzNi43IDEwIDM1IEMxMi42NCAzNSAxNS4yOCAzNSAxOCAzNSBDMTggMzMuNjggMTggMzIuMzYgMTggMzEgQzIwLjMxIDMxIDIyLjYyIDMxIDI1IDMxIEMyNC44NTU2MjUgMzAuNDA4MzIwMzEgMjQuNzExMjUgMjkuODE2NjQwNjMgMjQuNTYyNSAyOS4yMDcwMzEyNSBDMjMuNTkxNzczMDYgMjUuMDc0NzAwNTkgMjIuNzI0MDYyOTggMjEuMjc3MDIzOCAyMyAxNyBDMjEuNjggMTcgMjAuMzYgMTcgMTkgMTcgQzE5IDE1LjY4IDE5IDE0LjM2IDE5IDEzIEMxNy42OCAxMyAxNi4zNiAxMyAxNSAxMyBDMTUgMTEuNjggMTUgMTAuMzYgMTUgOSBDOC43MyA5IDIuNDYgOSAtNCA5IEMtNCAxMC4zMiAtNCAxMS42NCAtNCAxMyBDLTUuMzIgMTMgLTYuNjQgMTMgLTggMTMgQy04IDE0LjY1IC04IDE2LjMgLTggMTggQy05LjMyIDE4IC0xMC42NCAxOCAtMTIgMTggQy0xMiAyMC45NyAtMTIgMjMuOTQgLTEyIDI3IEMtMTQuNjQgMjcgLTE3LjI4IDI3IC0yMCAyNyBDLTIwIDIzLjcgLTIwIDIwLjQgLTIwIDE3IEMtMTkuMDEgMTcgLTE4LjAyIDE3IC0xNyAxNyBDLTE3IDE1LjM1IC0xNyAxMy43IC0xNyAxMiBDLTE1LjY4IDEyIC0xNC4zNiAxMiAtMTMgMTIgQy0xMyAxMC42OCAtMTMgOS4zNiAtMTMgOCBDLTExLjY4IDggLTEwLjM2IDggLTkgOCBDLTkgNy4wMSAtOSA2LjAyIC05IDUgQy04LjAxIDUgLTcuMDIgNSAtNiA1IEMtNiA0LjM0IC02IDMuNjggLTYgMyBDLTQuMDIgMyAtMi4wNCAzIDAgMyBDMCAyLjAxIDAgMS4wMiAwIDAgWiAiIGZpbGw9IiMzQzhCNUMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0LDExKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjk5IDAgMS45OCAwIDMgMCBDMyAxLjMyIDMgMi42NCAzIDQgQzkuMjcgNCAxNS41NCA0IDIyIDQgQzIyIDIuNjggMjIgMS4zNiAyMiAwIEMyMi45OSAwIDIzLjk4IDAgMjUgMCBDMjUgMS42NSAyNSAzLjMgMjUgNSBDMjguMyA1IDMxLjYgNSAzNSA1IEMzNSA2LjY1IDM1IDguMyAzNSAxMCBDMzYuOTggMTAgMzguOTYgMTAgNDEgMTAgQzQxIDExLjMyIDQxIDEyLjY0IDQxIDE0IEMzOC4wMyAxNCAzNS4wNiAxNCAzMiAxNCBDMzIgMTUuNjUgMzIgMTcuMyAzMiAxOSBDMzAuNjggMTkgMjkuMzYgMTkgMjggMTkgQzI4IDE5LjY2IDI4IDIwLjMyIDI4IDIxIEMyNy4wMSAyMSAyNi4wMiAyMSAyNSAyMSBDMjUgMjUuMjkgMjUgMjkuNTggMjUgMzQgQzI1Ljk5IDM0IDI2Ljk4IDM0IDI4IDM0IEMyOC42NiAzNi42NCAyOS4zMiAzOS4yOCAzMCA0MiBDMzEuNjUgNDIuMzMgMzMuMyA0Mi42NiAzNSA0MyBDMzUgNDQuMzIgMzUgNDUuNjQgMzUgNDcgQzM3LjY0IDQ3IDQwLjI4IDQ3IDQzIDQ3IEM0MyA0NS42OCA0MyA0NC4zNiA0MyA0MyBDNDQuMDQ4MDA3ODEgNDIuOTQzOTI1NzggNDQuMDQ4MDA3ODEgNDIuOTQzOTI1NzggNDUuMTE3MTg3NSA0Mi44ODY3MTg3NSBDNDYuMDI3MjY1NjIgNDIuODIwOTc2NTYgNDYuOTM3MzQzNzUgNDIuNzU1MjM0MzggNDcuODc1IDQyLjY4NzUgQzQ4Ljc3OTkyMTg3IDQyLjYyOTQ5MjE5IDQ5LjY4NDg0Mzc1IDQyLjU3MTQ4NDM3IDUwLjYxNzE4NzUgNDIuNTExNzE4NzUgQzUzLjM2MjIxNjAxIDQyLjIxMTc5NjEgNTMuMzYyMjE2MDEgNDIuMjExNzk2MSA1NSAzOSBDNTUgNDMuNjIgNTUgNDguMjQgNTUgNTMgQzUzLjM1IDUzIDUxLjcgNTMgNTAgNTMgQzUwIDU0LjY1IDUwIDU2LjMgNTAgNTggQzQ4LjAyIDU4IDQ2LjA0IDU4IDQ0IDU4IEM0NCA1OS42NSA0NCA2MS4zIDQ0IDYzIEM0MS4zNiA2MyAzOC43MiA2MyAzNiA2MyBDMzYgNjMuOTkgMzYgNjQuOTggMzYgNjYgQzE5LjY4MTk5MTQgNjguNDMwMzQxNzEgNC4zMTgwMDg2IDY4LjQzMDM0MTcxIC0xMiA2NiBDLTEyIDY1LjAxIC0xMiA2NC4wMiAtMTIgNjMgQy0xNC4zMSA2MyAtMTYuNjIgNjMgLTE5IDYzIEMtMTkgNjEuMzUgLTE5IDU5LjcgLTE5IDU4IEMtMjAuNjUgNTggLTIyLjMgNTggLTI0IDU4IEMtMjQgNTYuMzUgLTI0IDU0LjcgLTI0IDUzIEMtMjUuNjUgNTMgLTI3LjMgNTMgLTI5IDUzIEMtMjkgNDguMzggLTI5IDQzLjc2IC0yOSAzOSBDLTI4LjY3IDQwLjMyIC0yOC4zNCA0MS42NCAtMjggNDMgQy0yNC43IDQzIC0yMS40IDQzIC0xOCA0MyBDLTE4IDQ0LjMyIC0xOCA0NS42NCAtMTggNDcgQy0xNS4zNiA0NyAtMTIuNzIgNDcgLTEwIDQ3IEMtMTAgNDUuNjggLTEwIDQ0LjM2IC0xMCA0MyBDLTguMzUgNDIuMzQgLTYuNyA0MS42OCAtNSA0MSBDLTQuNjcgMzguNjkgLTQuMzQgMzYuMzggLTQgMzQgQy0yLjY4IDM0IC0xLjM2IDM0IDAgMzQgQzAgMjkuNzEgMCAyNS40MiAwIDIxIEMtMS4zMiAyMSAtMi42NCAyMSAtNCAyMSBDLTQgMjAuMDEgLTQgMTkuMDIgLTQgMTggQy00Ljk5IDE4IC01Ljk4IDE4IC03IDE4IEMtNyAxNi42OCAtNyAxNS4zNiAtNyAxNCBDLTkuOTcgMTQgLTEyLjk0IDE0IC0xNiAxNCBDLTE2IDEyLjM1IC0xNiAxMC43IC0xNiA5IEMtMTQuMDIgOSAtMTIuMDQgOSAtMTAgOSBDLTEwIDcuNjggLTEwIDYuMzYgLTEwIDUgQy03LjM2IDUgLTQuNzIgNSAtMiA1IEMtMiA2LjMyIC0yIDcuNjQgLTIgOSBDLTAuMzUgOSAxLjMgOSAzIDkgQzMgNy42OCAzIDYuMzYgMyA1IEMyLjAxIDUgMS4wMiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzZBQ0E0RCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTMsNDIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMCAyLjY0IDAgNCAwIEM0IDIuOTcgNCA1Ljk0IDQgOSBDMTEuNTkgOSAxOS4xOCA5IDI3IDkgQzI3IDcuMzUgMjcgNS43IDI3IDQgQzI4LjMyIDQgMjkuNjQgNCAzMSA0IEMzMSAxNC4yMyAzMSAyNC40NiAzMSAzNSBDMjkuNjggMzUgMjguMzYgMzUgMjcgMzUgQzI2LjY3IDM2LjY1IDI2LjM0IDM4LjMgMjYgNDAgQzI1LjAxIDQwIDI0LjAyIDQwIDIzIDQwIEMyMyA0Mi4zMSAyMyA0NC42MiAyMyA0NyBDMjAuNjkgNDcgMTguMzggNDcgMTYgNDcgQzE2IDQ3LjY2IDE2IDQ4LjMyIDE2IDQ5IEMxMy42OSA0OSAxMS4zOCA0OSA5IDQ5IEM5IDUwLjMyIDkgNTEuNjQgOSA1MyBDNy4wMiA1MyA1LjA0IDUzIDMgNTMgQzMgNTQuMzIgMyA1NS42NCAzIDU3IEMtOS4yMSA1NyAtMjEuNDIgNTcgLTM0IDU3IEMtMzQgNTUuNjggLTM0IDU0LjM2IC0zNCA1MyBDLTM1Ljk4IDUzIC0zNy45NiA1MyAtNDAgNTMgQy00MCA1MS42OCAtNDAgNTAuMzYgLTQwIDQ5IEMtNDEuOTggNDkgLTQzLjk2IDQ5IC00NiA0OSBDLTQ2IDQ4LjM0IC00NiA0Ny42OCAtNDYgNDcgQy00OC4zMSA0NyAtNTAuNjIgNDcgLTUzIDQ3IEMtNTMuMTI1IDQxLjI1IC01My4xMjUgNDEuMjUgLTUyIDM5IEMtNTAuMzUgMzkgLTQ4LjcgMzkgLTQ3IDM5IEMtNDcgNDAuNjUgLTQ3IDQyLjMgLTQ3IDQ0IEMtNDQuNjkgNDQgLTQyLjM4IDQ0IC00MCA0NCBDLTQwIDQ0Ljk5IC00MCA0NS45OCAtNDAgNDcgQy0yMy45MTI0NDE2MiA0OC4xOTgwMDk2NyAtOC4wODc1NTgzOCA0OC4xOTgwMDk2NyA4IDQ3IEM4IDQ2LjAxIDggNDUuMDIgOCA0NCBDMTAuNjQgNDQgMTMuMjggNDQgMTYgNDQgQzE2IDQyLjM1IDE2IDQwLjcgMTYgMzkgQzE3Ljk4IDM5IDE5Ljk2IDM5IDIyIDM5IEMyMiAzNy4zNSAyMiAzNS43IDIyIDM0IEMyMy42NSAzNCAyNS4zIDM0IDI3IDM0IEMyNi41MDUgMjguNTU1IDI2LjUwNSAyOC41NTUgMjYgMjMgQzI1LjUwNSAyMy40OTUgMjUuNTA1IDIzLjQ5NSAyNSAyNCBDMjMuMzEzOTEwMzQgMjQuMDcyMDU1MTEgMjEuNjI0OTkzNDEgMjQuMDgzODYwNjggMTkuOTM3NSAyNC4wNjI1IEMxOS4wMTgzOTg0NCAyNC4wNTM0NzY1NiAxOC4wOTkyOTY4NyAyNC4wNDQ0NTMxMyAxNy4xNTIzNDM3NSAyNC4wMzUxNTYyNSBDMTYuNDQyMDcwMzEgMjQuMDIzNTU0NjkgMTUuNzMxNzk2ODggMjQuMDExOTUzMTMgMTUgMjQgQzE1IDI1LjMyIDE1IDI2LjY0IDE1IDI4IEMxMi4zNiAyOCA5LjcyIDI4IDcgMjggQzcgMjYuNjggNyAyNS4zNiA3IDI0IEM1LjM1IDI0IDMuNyAyNCAyIDI0IEMwLjE0MjIzMjM1IDIwLjg2NTAxNzA4IC0wLjIwMTQwNDc2IDE4LjYyNTI4NTY4IDAgMTUgQy0wLjk5IDE1IC0xLjk4IDE1IC0zIDE1IEMtMyAxMC43MSAtMyA2LjQyIC0zIDIgQy0yLjAxIDIgLTEuMDIgMiAwIDIgQzAgMS4zNCAwIDAuNjggMCAwIFogIiBmaWxsPSIjMTQxNDI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4MSw2MSkiLz4KPHBhdGggZD0iTTAgMCBDMCAxLjY1IDAgMy4zIDAgNSBDMC45OSA1IDEuOTggNSAzIDUgQzMgNi4zMiAzIDcuNjQgMyA5IEMxLjM1IDkgLTAuMyA5IC0yIDkgQy0yIDcuNjggLTIgNi4zNiAtMiA1IEMtNC42NCA1IC03LjI4IDUgLTEwIDUgQy0xMCA2LjMyIC0xMCA3LjY0IC0xMCA5IEMtMTEuOTggOSAtMTMuOTYgOSAtMTYgOSBDLTE2IDEwLjY1IC0xNiAxMi4zIC0xNiAxNCBDLTEzLjAzIDE0IC0xMC4wNiAxNCAtNyAxNCBDLTcgMTUuMzIgLTcgMTYuNjQgLTcgMTggQy02LjAxIDE4IC01LjAyIDE4IC00IDE4IEMtNCAxOC45OSAtNCAxOS45OCAtNCAyMSBDLTIuNjggMjEgLTEuMzYgMjEgMCAyMSBDMCAyNS4yOSAwIDI5LjU4IDAgMzQgQy0xLjMyIDM0IC0yLjY0IDM0IC00IDM0IEMtMy45NTg3NSAzNS4xMTM3NSAtMy45MTc1IDM2LjIyNzUgLTMuODc1IDM3LjM3NSBDLTQgNDEgLTQgNDEgLTYgNDMgQy03LjMyIDQzIC04LjY0IDQzIC0xMCA0MyBDLTEwIDQ0LjMyIC0xMCA0NS42NCAtMTAgNDcgQy0xMi42NCA0NyAtMTUuMjggNDcgLTE4IDQ3IEMtMTggNDUuNjggLTE4IDQ0LjM2IC0xOCA0MyBDLTIxLjMgNDMgLTI0LjYgNDMgLTI4IDQzIEMtMjguMzMgNDYuMyAtMjguNjYgNDkuNiAtMjkgNTMgQy0yNy4zNSA1MyAtMjUuNyA1MyAtMjQgNTMgQy0yNCA1NS4zMSAtMjQgNTcuNjIgLTI0IDYwIEMtMjUuNjUgNTkuMzQgLTI3LjMgNTguNjggLTI5IDU4IEMtMjkgNTYuNjggLTI5IDU1LjM2IC0yOSA1NCBDLTMwLjMyIDU0IC0zMS42NCA1NCAtMzMgNTQgQy0zMyA0My43NyAtMzMgMzMuNTQgLTMzIDIzIEMtMzIuMzQgMjMgLTMxLjY4IDIzIC0zMSAyMyBDLTMxIDIxLjM1IC0zMSAxOS43IC0zMSAxOCBDLTMwLjAxIDE4IC0yOS4wMiAxOCAtMjggMTggQy0yOCAxNi42OCAtMjggMTUuMzYgLTI4IDE0IEMtMjcuMDEgMTQgLTI2LjAyIDE0IC0yNSAxNCBDLTI0LjY3IDEyLjM1IC0yNC4zNCAxMC43IC0yNCA5IEMtMjIuMzUgOSAtMjAuNyA5IC0xOSA5IEMtMTkgNy4zNSAtMTkgNS43IC0xOSA0IEMtMTYuMDMgNCAtMTMuMDYgNCAtMTAgNCBDLTEwIDMuMDEgLTEwIDIuMDIgLTEwIDEgQy0zLjM3NSAwIC0zLjM3NSAwIDAgMCBaICIgZmlsbD0iIzE1MTQyNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTMsNDIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMS4zMiAwLjY2IDIuNjQgMSA0IEM0LjMgNCA3LjYgNCAxMSA0IEMxMSA1LjMyIDExIDYuNjQgMTEgOCBDOS4wMiA4IDcuMDQgOCA1IDggQzUgOS4zMiA1IDEwLjY0IDUgMTIgQzcuNjQgMTIgMTAuMjggMTIgMTMgMTIgQzEzIDEzLjY1IDEzIDE1LjMgMTMgMTcgQzE1LjY0IDE3IDE4LjI4IDE3IDIxIDE3IEMyMSAxNy45OSAyMSAxOC45OCAyMSAyMCBDMjMuNjQgMjAgMjYuMjggMjAgMjkgMjAgQzI5IDIxLjMyIDI5IDIyLjY0IDI5IDI0IEMzNy4yNSAyNCA0NS41IDI0IDU0IDI0IEM1NCAyMi42OCA1NCAyMS4zNiA1NCAyMCBDNTYuNjQgMjAgNTkuMjggMjAgNjIgMjAgQzYyIDE5LjAxIDYyIDE4LjAyIDYyIDE3IEM2NC45NyAxNyA2Ny45NCAxNyA3MSAxNyBDNzEgMTUuMzUgNzEgMTMuNyA3MSAxMiBDNzMuNjQgMTIgNzYuMjggMTIgNzkgMTIgQzc5IDEwLjY4IDc5IDkuMzYgNzkgOCBDNzYuNjkgOCA3NC4zOCA4IDcyIDggQzcyIDYuNjggNzIgNS4zNiA3MiA0IEM3My4wNDgwMDc4MSAzLjk0MzkyNTc4IDczLjA0ODAwNzgxIDMuOTQzOTI1NzggNzQuMTE3MTg3NSAzLjg4NjcxODc1IEM3NS4wMjcyNjU2MiAzLjgyMDk3NjU2IDc1LjkzNzM0Mzc1IDMuNzU1MjM0MzggNzYuODc1IDMuNjg3NSBDNzguMjMyMzgyODEgMy42MDA0ODgyOCA3OC4yMzIzODI4MSAzLjYwMDQ4ODI4IDc5LjYxNzE4NzUgMy41MTE3MTg3NSBDODIuMzYyMjE2MDEgMy4yMTE3OTYxIDgyLjM2MjIxNjAxIDMuMjExNzk2MSA4NCAwIEM4NCA0LjYyIDg0IDkuMjQgODQgMTQgQzgyLjM1IDE0IDgwLjcgMTQgNzkgMTQgQzc5IDE1LjY1IDc5IDE3LjMgNzkgMTkgQzc3LjAyIDE5IDc1LjA0IDE5IDczIDE5IEM3MyAyMC42NSA3MyAyMi4zIDczIDI0IEM3MC4zNiAyNCA2Ny43MiAyNCA2NSAyNCBDNjUgMjQuOTkgNjUgMjUuOTggNjUgMjcgQzQ4LjY4MTk5MTQgMjkuNDMwMzQxNzEgMzMuMzE4MDA4NiAyOS40MzAzNDE3MSAxNyAyNyBDMTcgMjYuMDEgMTcgMjUuMDIgMTcgMjQgQzE0LjY5IDI0IDEyLjM4IDI0IDEwIDI0IEMxMCAyMi4zNSAxMCAyMC43IDEwIDE5IEM4LjM1IDE5IDYuNyAxOSA1IDE5IEM1IDE3LjM1IDUgMTUuNyA1IDE0IEMzLjM1IDE0IDEuNyAxNCAwIDE0IEMwIDkuMzggMCA0Ljc2IDAgMCBaICIgZmlsbD0iIzEwOEY1RiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQsODEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTEuNjcgMC45OSAxMS4zNCAxLjk4IDExIDMgQzEzLjk3IDMuMzMgMTYuOTQgMy42NiAyMCA0IEMyMCA1LjMyIDIwIDYuNjQgMjAgOCBDMjEuMzIgOCAyMi42NCA4IDI0IDggQzI0IDkuMzIgMjQgMTAuNjQgMjQgMTIgQzI1LjMyIDEyIDI2LjY0IDEyIDI4IDEyIEMyOCAxMy4zMiAyOCAxNC42NCAyOCAxNiBDMjkuMzIgMTYgMzAuNjQgMTYgMzIgMTYgQzMyLjQ5NSAyMy40MjUgMzIuNDk1IDIzLjQyNSAzMyAzMSBDMjguMzggMzEuMzMgMjMuNzYgMzEuNjYgMTkgMzIgQzE4LjY3IDMyLjk5IDE4LjM0IDMzLjk4IDE4IDM1IEMxOCAzMy42OCAxOCAzMi4zNiAxOCAzMSBDMjAuMzEgMzEgMjIuNjIgMzEgMjUgMzEgQzI0Ljg1NTYyNSAzMC40MDgzMjAzMSAyNC43MTEyNSAyOS44MTY2NDA2MyAyNC41NjI1IDI5LjIwNzAzMTI1IEMyMy41OTE3NzMwNiAyNS4wNzQ3MDA1OSAyMi43MjQwNjI5OCAyMS4yNzcwMjM4IDIzIDE3IEMyMS42OCAxNyAyMC4zNiAxNyAxOSAxNyBDMTkgMTUuNjggMTkgMTQuMzYgMTkgMTMgQzE3LjY4IDEzIDE2LjM2IDEzIDE1IDEzIEMxNSAxMS42OCAxNSAxMC4zNiAxNSA5IEM4LjczIDkgMi40NiA5IC00IDkgQy00IDEwLjMyIC00IDExLjY0IC00IDEzIEMtNS4zMiAxMyAtNi42NCAxMyAtOCAxMyBDLTggMTQuNjUgLTggMTYuMyAtOCAxOCBDLTkuMzIgMTggLTEwLjY0IDE4IC0xMiAxOCBDLTEyIDIwLjk3IC0xMiAyMy45NCAtMTIgMjcgQy0xNC42NCAyNyAtMTcuMjggMjcgLTIwIDI3IEMtMjAgMjMuNyAtMjAgMjAuNCAtMjAgMTcgQy0xOS4wMSAxNyAtMTguMDIgMTcgLTE3IDE3IEMtMTcgMTUuMzUgLTE3IDEzLjcgLTE3IDEyIEMtMTUuNjggMTIgLTE0LjM2IDEyIC0xMyAxMiBDLTEzIDEwLjY4IC0xMyA5LjM2IC0xMyA4IEMtMTEuNjggOCAtMTAuMzYgOCAtOSA4IEMtOSA3LjAxIC05IDYuMDIgLTkgNSBDLTguMDEgNSAtNy4wMiA1IC02IDUgQy02IDQuMzQgLTYgMy42OCAtNiAzIEMtNC4wMiAzIC0yLjA0IDMgMCAzIEMwIDIuMDEgMCAxLjAyIDAgMCBaICIgZmlsbD0iIzMyODE2MSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQsMTEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzQuMjkgMCA4LjU4IDAgMTMgMCBDMTMgMC45OSAxMyAxLjk4IDEzIDMgQzE0LjY1IDMgMTYuMyAzIDE4IDMgQzE4IDMuNjYgMTggNC4zMiAxOCA1IEMxOC42NiA1LjMzIDE5LjMyIDUuNjYgMjAgNiBDMjEuMzMzMzMzMzMgNi42NjY2NjY2NyAyMi42NjY2NjY2NyA3LjMzMzMzMzMzIDI0IDggQzI0IDkuMzIgMjQgMTAuNjQgMjQgMTIgQzI0Ljk5IDEyIDI1Ljk4IDEyIDI3IDEyIEMyNyAxMy42NSAyNyAxNS4zIDI3IDE3IEMyNy45OSAxNyAyOC45OCAxNyAzMCAxNyBDMzAgMjAuMyAzMCAyMy42IDMwIDI3IEMyNy42OSAyNyAyNS4zOCAyNyAyMyAyNyBDMjMgMjQuMDMgMjMgMjEuMDYgMjMgMTggQzIxLjY4IDE4IDIwLjM2IDE4IDE5IDE4IEMxOSAxNi4zNSAxOSAxNC43IDE5IDEzIEMxOC4wMSAxMyAxNy4wMiAxMyAxNiAxMyBDMTYgMTEuNjggMTYgMTAuMzYgMTYgOSBDOS43MyA5IDMuNDYgOSAtMyA5IEMtMyAxMC4zMiAtMyAxMS42NCAtMyAxMyBDLTQuNjUgMTMgLTYuMyAxMyAtOCAxMyBDLTggMTQuMzIgLTggMTUuNjQgLTggMTcgQy05LjMyIDE3IC0xMC42NCAxNyAtMTIgMTcgQy0xMiAxNS4zNSAtMTIgMTMuNyAtMTIgMTIgQy0xMC42OCAxMiAtOS4zNiAxMiAtOCAxMiBDLTggOS4zNiAtOCA2LjcyIC04IDQgQy01LjM2IDMuNjcgLTIuNzIgMy4zNCAwIDMgQzAgMi4wMSAwIDEuMDIgMCAwIFogIiBmaWxsPSIjMjcyODMzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NiwxMSkiLz4KPHBhdGggZD0iTTAgMCBDMCAxLjY1IDAgMy4zIDAgNSBDMC45OSA1IDEuOTggNSAzIDUgQzMgNi4zMiAzIDcuNjQgMyA5IEMzLjk5IDkgNC45OCA5IDYgOSBDNS42NyAxMi4zIDUuMzQgMTUuNiA1IDE5IEMtMi41ODI4MjIzNCAyMC45NTY4NTczOCAtMTAuMzM3OTU2NDQgMTkuOTcyOTU3OTEgLTE4IDE5IEMtMTggMTQuNzEgLTE4IDEwLjQyIC0xOCA2IEMtMTQuMzcgNiAtMTAuNzQgNiAtNyA2IEMtNyA0LjM1IC03IDIuNyAtNyAxIEMtNC41MzcyMTE5OSAtMC4yMzEzOTQgLTIuNzIwNDk0NSAtMC4wNzE1OTE5NiAwIDAgWiAiIGZpbGw9IiMxQjE2MkIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMyw1MSkiLz4KPHBhdGggZD0iTTAgMCBDMy45NiAwIDcuOTIgMCAxMiAwIEMxMiAwLjk5IDEyIDEuOTggMTIgMyBDMTMuMzIgMy4zMyAxNC42NCAzLjY2IDE2IDQgQzE2IDUuMzIgMTYgNi42NCAxNiA4IEMxNC4zNSA4IDEyLjcgOCAxMSA4IEMxMSA2LjY4IDExIDUuMzYgMTEgNCBDNy4zNyA0IDMuNzQgNCAwIDQgQzAgNS42NSAwIDcuMyAwIDkgQy0xLjMyIDkgLTIuNjQgOSAtNCA5IEMtNCAxMC4zMiAtNCAxMS42NCAtNCAxMyBDLTUuMzIgMTMgLTYuNjQgMTMgLTggMTMgQy04IDE0LjY1IC04IDE2LjMgLTggMTggQy05LjMyIDE4IC0xMC42NCAxOCAtMTIgMTggQy0xMiAyMC45NyAtMTIgMjMuOTQgLTEyIDI3IEMtMTQuNjQgMjcgLTE3LjI4IDI3IC0yMCAyNyBDLTIwIDIzLjcgLTIwIDIwLjQgLTIwIDE3IEMtMTkuMDEgMTcgLTE4LjAyIDE3IC0xNyAxNyBDLTE3IDE1LjM1IC0xNyAxMy43IC0xNyAxMiBDLTE1LjY4IDEyIC0xNC4zNiAxMiAtMTMgMTIgQy0xMyAxMC42OCAtMTMgOS4zNiAtMTMgOCBDLTExLjY4IDggLTEwLjM2IDggLTkgOCBDLTkgNy4wMSAtOSA2LjAyIC05IDUgQy04LjAxIDUgLTcuMDIgNSAtNiA1IEMtNiA0LjM0IC02IDMuNjggLTYgMyBDLTQuMDIgMyAtMi4wNCAzIDAgMyBDMCAyLjAxIDAgMS4wMiAwIDAgWiAiIGZpbGw9IiMxRTJFMzciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0LDExKSIvPgo8cGF0aCBkPSJNMCAwIEMwIDEuNjUgMCAzLjMgMCA1IEMwLjk5IDUgMS45OCA1IDMgNSBDMyA2LjMyIDMgNy42NCAzIDkgQzEuMzUgOSAtMC4zIDkgLTIgOSBDLTIgNy42OCAtMiA2LjM2IC0yIDUgQy00LjY0IDUgLTcuMjggNSAtMTAgNSBDLTEwIDYuMzIgLTEwIDcuNjQgLTEwIDkgQy0xMS45OCA5IC0xMy45NiA5IC0xNiA5IEMtMTYgMTAuNjUgLTE2IDEyLjMgLTE2IDE0IEMtMTMuMDMgMTQgLTEwLjA2IDE0IC03IDE0IEMtNyAxNS4zMiAtNyAxNi42NCAtNyAxOCBDLTYuMDEgMTguMzMgLTUuMDIgMTguNjYgLTQgMTkgQy0xMS45MiAxOSAtMTkuODQgMTkgLTI4IDE5IEMtMjggMTcuMzUgLTI4IDE1LjcgLTI4IDE0IEMtMjcuMDEgMTQgLTI2LjAyIDE0IC0yNSAxNCBDLTI0LjY3IDEyLjM1IC0yNC4zNCAxMC43IC0yNCA5IEMtMjIuMzUgOSAtMjAuNyA5IC0xOSA5IEMtMTkgNy4zNSAtMTkgNS43IC0xOSA0IEMtMTYuMDMgNCAtMTMuMDYgNCAtMTAgNCBDLTEwIDMuMDEgLTEwIDIuMDIgLTEwIDEgQy0zLjM3NSAwIC0zLjM3NSAwIDAgMCBaICIgZmlsbD0iIzJBM0UzNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTMsNDIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuMzMgMC42NiAwLjY2IDEuMzIgMSAyIEMzLjMxIDIgNS42MiAyIDggMiBDOCAzLjMyIDggNC42NCA4IDYgQzEwLjY0IDYgMTMuMjggNiAxNiA2IEMxNi4zMyA3Ljk4IDE2LjY2IDkuOTYgMTcgMTIgQzE2LjM0IDEyIDE1LjY4IDEyIDE1IDEyIEMxNSAxMy42NSAxNSAxNS4zIDE1IDE3IEMxMS4zNyAxNyA3Ljc0IDE3IDQgMTcgQzQgMTYuNjcgNCAxNi4zNCA0IDE2IEM2Ljk3IDE2IDkuOTQgMTYgMTMgMTYgQzEzIDE0LjY4IDEzIDEzLjM2IDEzIDEyIEMxMS4wMiAxMiA5LjA0IDEyIDcgMTIgQzcgMTAuMzUgNyA4LjcgNyA3IEMzLjcgNyAwLjQgNyAtMyA3IEMtMyA1LjM1IC0zIDMuNyAtMyAyIEMtMi4wMSAyIC0xLjAyIDIgMCAyIEMwIDEuMzQgMCAwLjY4IDAgMCBaICIgZmlsbD0iIzQ2NkU0RSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODEsNDApIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuMzEgMCA0LjYyIDAgNyAwIEM3IDEuNjUgNyAzLjMgNyA1IEM5LjMxIDUgMTEuNjIgNSAxNCA1IEMxNCAzLjM1IDE0IDEuNyAxNCAwIEMxNi4zMSAwIDE4LjYyIDAgMjEgMCBDMjEgMS4zMiAyMSAyLjY0IDIxIDQgQzE5LjY4IDQgMTguMzYgNCAxNyA0IEMxNyA1Ljk4IDE3IDcuOTYgMTcgMTAgQzEyLjcxIDEwIDguNDIgMTAgNCAxMCBDNCA4LjAyIDQgNi4wNCA0IDQgQzIuNjggNCAxLjM2IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzE3MTYyNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUsOTApIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMC45OSAxMiAxLjk4IDEyIDMgQzguMzcgMyA0Ljc0IDMgMSAzIEMxIDQuNjUgMSA2LjMgMSA4IEMtMC4zMiA4IC0xLjY0IDggLTMgOCBDLTMgOS4zMiAtMyAxMC42NCAtMyAxMiBDLTQuNjUgMTIgLTYuMyAxMiAtOCAxMiBDLTggMTMuMzIgLTggMTQuNjQgLTggMTYgQy05LjMyIDE2IC0xMC42NCAxNiAtMTIgMTYgQy0xMiAxNC4zNSAtMTIgMTIuNyAtMTIgMTEgQy0xMC42OCAxMSAtOS4zNiAxMSAtOCAxMSBDLTggOC4zNiAtOCA1LjcyIC04IDMgQy01LjM2IDIuNjcgLTIuNzIgMi4zNCAwIDIgQzAgMS4zNCAwIDAuNjggMCAwIFogIiBmaWxsPSIjMzE0MjNCIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5NiwxMikiLz4KPHBhdGggZD0iTTAgMCBDMi42NCAwLjMzIDUuMjggMC42NiA4IDEgQzggMy42NCA4IDYuMjggOCA5IEM4Ljk5IDkgOS45OCA5IDExIDkgQzExIDEwLjY1IDExIDEyLjMgMTEgMTQgQzkuNjggMTQgOC4zNiAxNCA3IDE0IEM3IDEyLjY4IDcgMTEuMzYgNyAxMCBDNS42OCAxMCA0LjM2IDEwIDMgMTAgQzMgOC42OCAzIDcuMzYgMyA2IEMtMS45NSA2IC02LjkgNiAtMTIgNiBDLTEyIDQuMzUgLTEyIDIuNyAtMTIgMSBDLTguMzcgMSAtNC43NCAxIC0xIDEgQy0xIDIuMzIgLTEgMy42NCAtMSA1IEMwLjY1IDUgMi4zIDUgNCA1IEM0IDMuNjggNCAyLjM2IDQgMSBDMi42OCAwLjY3IDEuMzYgMC4zNCAwIDAgWiAiIGZpbGw9IiMyNjI5MzYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM2LDE0KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY1IDAuMzMgMy4zIDAuNjYgNSAxIEM1IDIuMzIgNSAzLjY0IDUgNSBDOC4zIDUgMTEuNiA1IDE1IDUgQzE1IDYuMzIgMTUgNy42NCAxNSA5IEM4LjQgOSAxLjggOSAtNSA5IEMtNSA3LjM1IC01IDUuNyAtNSA0IEMtMy42OCA0IC0yLjM2IDQgLTEgNCBDLTAuNjcgMi42OCAtMC4zNCAxLjM2IDAgMCBaICIgZmlsbD0iIzE2MTEyNyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzAsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNjQgMCA1LjI4IDAgOCAwIEM4IDEuNjUgOCAzLjMgOCA1IEM5Ljk4IDUgMTEuOTYgNSAxNCA1IEMxNCA2LjMyIDE0IDcuNjQgMTQgOSBDMTIuMzk2MjA2NTkgOS4wNTQxNjE4OCAxMC43OTE4ODU5NCA5LjA5Mjg2NjM4IDkuMTg3NSA5LjEyNSBDOC4yOTQxNzk2OSA5LjE0ODIwMzEzIDcuNDAwODU5MzcgOS4xNzE0MDYyNSA2LjQ4MDQ2ODc1IDkuMTk1MzEyNSBDNCA5IDQgOSAxIDcgQzEgNy42NiAxIDguMzIgMSA5IEMtMC42NSA5IC0yLjMgOSAtNCA5IEMtNCA3LjY4IC00IDYuMzYgLTQgNSBDLTMuMDEgNC42NyAtMi4wMiA0LjM0IC0xIDQgQy0wLjI2Njc2MjA0IDEuOTg0OTE2NDIgLTAuMjY2NzYyMDQgMS45ODQ5MTY0MiAwIDAgWiAiIGZpbGw9IiM2RUNBNEMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLDQ3KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzEyIDMuMyAxMiA2LjYgMTIgMTAgQzkuMzYgMTAgNi43MiAxMCA0IDEwIEM0IDguMzUgNCA2LjcgNCA1IEMyLjY4IDUgMS4zNiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iI0U1RTVFNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjksNjEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuMyAwIDYuNiAwIDEwIDAgQzEwIDEuMzIgMTAgMi42NCAxMCA0IEMxMC45OSA0IDExLjk4IDQgMTMgNCBDMTMgNS45OCAxMyA3Ljk2IDEzIDEwIEMxMC4zNiAxMCA3LjcyIDEwIDUgMTAgQzUgOC4zNSA1IDYuNyA1IDUgQzMuMzUgNSAxLjcgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiNGM0YzRjMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDkwLDYxKSIvPgo8cGF0aCBkPSJNMCAwIEMzLjk2IDAgNy45MiAwIDEyIDAgQzEyIDAuOTkgMTIgMS45OCAxMiAzIEMxMy4zMiAzLjMzIDE0LjY0IDMuNjYgMTYgNCBDMTYgNS4zMiAxNiA2LjY0IDE2IDggQzE0LjM1IDggMTIuNyA4IDExIDggQzExIDYuNjggMTEgNS4zNiAxMSA0IEM3LjM3IDQgMy43NCA0IDAgNCBDMCA1LjY1IDAgNy4zIDAgOSBDLTEuMzIgOSAtMi42NCA5IC00IDkgQy00LjMzIDcuMDIgLTQuNjYgNS4wNCAtNSAzIEMtMy4zNSAzIC0xLjcgMyAwIDMgQzAgMi4wMSAwIDEuMDIgMCAwIFogIiBmaWxsPSIjMUIxQTJDIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCwxMSkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgMS4zMiA0IDIuNjQgNCA0IEM2LjMxIDQgOC42MiA0IDExIDQgQzExIDcuMyAxMSAxMC42IDExIDE0IEM4LjY5IDE0IDYuMzggMTQgNCAxNCBDNCAxMS4wMyA0IDguMDYgNCA1IEMyLjY4IDUgMS4zNiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzE3OEQ2NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE1LDI0KSIvPgo8cGF0aCBkPSJNMCAwIEMyLjk3IDAgNS45NCAwIDkgMCBDNy42OCAwLjMzIDYuMzYgMC42NiA1IDEgQzQuNjcgMi42NSA0LjM0IDQuMyA0IDYgQzMuMDEgNiAyLjAyIDYgMSA2IEMxIDguMzEgMSAxMC42MiAxIDEzIEMtMS4zMSAxMi4zNCAtMy42MiAxMS42OCAtNiAxMSBDLTYgOS4wMiAtNiA3LjA0IC02IDUgQy00LjAyIDUgLTIuMDQgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxNDE3MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMyw5NSkiLz4KPHBhdGggZD0iTTAgMCBDMS42NSAwIDMuMyAwIDUgMCBDNSAxLjMyIDUgMi42NCA1IDQgQzMuNjggNCAyLjM2IDQgMSA0IEMxLjIwNjI1IDQuODI1IDEuNDEyNSA1LjY1IDEuNjI1IDYuNSBDMi4wOTQwOTE1IDEwLjg3ODE4NzMyIDEuMjMzMTc0OTIgMTMuNzkyNjk3MzQgMCAxOCBDLTAuMzMgMTggLTAuNjYgMTggLTEgMTggQy0xIDE2LjM1IC0xIDE0LjcgLTEgMTMgQy0xLjk5IDEzIC0yLjk4IDEzIC00IDEzIEMtNCAxMS42OCAtNCAxMC4zNiAtNCA5IEMtNS4zMiA4LjY3IC02LjY0IDguMzQgLTggOCBDLTYuNjggOCAtNS4zNiA4IC00IDggQy00IDYuNjggLTQgNS4zNiAtNCA0IEMtMi42OCA0IC0xLjM2IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzREOTU2RiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODMsMTkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAuOTkgMCAxLjk4IDAgMyAwIEMzIDEuMzIgMyAyLjY0IDMgNCBDOS4yNyA0IDE1LjU0IDQgMjIgNCBDMjIgMi42OCAyMiAxLjM2IDIyIDAgQzIyLjk5IDAgMjMuOTggMCAyNSAwIEMyNSAxLjY1IDI1IDMuMyAyNSA1IEMyNS42NiA1IDI2LjMyIDUgMjcgNSBDMjcgNi4zMiAyNyA3LjY0IDI3IDkgQzI1LjAyIDkgMjMuMDQgOSAyMSA5IEMyMSA3LjY4IDIxIDYuMzYgMjEgNSBDMTQuMDcgNSA3LjE0IDUgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjNUZCRjUyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1Myw0MikiLz4KPHBhdGggZD0iTTAgMCBDNS42MSAwLjMzIDExLjIyIDAuNjYgMTcgMSBDMTcgMi4zMiAxNyAzLjY0IDE3IDUgQzExLjA2IDUgNS4xMiA1IC0xIDUgQy0wLjY3IDMuMzUgLTAuMzQgMS43IDAgMCBaICIgZmlsbD0iIzE1MTMyNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTcsNDEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMCAyLjY0IDAgNCAwIEM0IDEuMzIgNCAyLjY0IDQgNCBDNS4zMiA0IDYuNjQgNCA4IDQgQzggNS4zMiA4IDYuNjQgOCA4IEM5LjMyIDguMzMgMTAuNjQgOC42NiAxMiA5IEMxMC42OCA5IDkuMzYgOSA4IDkgQzggMTAuMzIgOCAxMS42NCA4IDEzIEM2LjM1IDEzLjMzIDQuNyAxMy42NiAzIDE0IEMzIDEwLjcgMyA3LjQgMyA0IEMyLjAxIDQgMS4wMiA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMzQTlBNUUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQ0LDE5KSIvPgo8cGF0aCBkPSJNMCAwIEM1LjI4IDAgMTAuNTYgMCAxNiAwIEMxNiAxLjMyIDE2IDIuNjQgMTYgNCBDMTAuNzIgNCA1LjQ0IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzA0NTAzRSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTcsMTEwKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjMzIDAgMC42NiAwIDEgMCBDMSA4LjU4IDEgMTcuMTYgMSAyNiBDMy42NCAyNiA2LjI4IDI2IDkgMjYgQzkgMjguMzEgOSAzMC42MiA5IDMzIEM3LjM1IDMyLjM0IDUuNyAzMS42OCA0IDMxIEM0IDI5LjY4IDQgMjguMzYgNCAyNyBDMi42OCAyNyAxLjM2IDI3IDAgMjcgQzAgMTguMDkgMCA5LjE4IDAgMCBaICIgZmlsbD0iIzIxMjczMyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjAsNjkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuMzIgMCAyLjY0IDAgNCAwIEM0IDEuNjUgNCAzLjMgNCA1IEMyLjY4IDUgMS4zNiA1IDAgNSBDMCA3Ljk3IDAgMTAuOTQgMCAxNCBDLTEuMzIgMTQgLTIuNjQgMTQgLTQgMTQgQy00IDEwLjcgLTQgNy40IC00IDQgQy0yLjY4IDQgLTEuMzYgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMkE4RTY4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMiwyNCkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgMS42NSA0IDMuMyA0IDUgQzUuMzIgNSA2LjY0IDUgOCA1IEM4IDYuMzIgOCA3LjY0IDggOSBDNS4wMyA5IDIuMDYgOSAtMSA5IEMtMC42NyA2LjAzIC0wLjM0IDMuMDYgMCAwIFogIiBmaWxsPSIjMzgyNzQxIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNSw2MSkiLz4KPHBhdGggZD0iTTAgMCBDMy42MyAwIDcuMjYgMCAxMSAwIEMxMSAxLjY1IDExIDMuMyAxMSA1IEM3LjM3IDUgMy43NCA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzIzOEI2NSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQsMTUpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuNjMgMCA3LjI2IDAgMTEgMCBDMTEgMS42NSAxMSAzLjMgMTEgNSBDNy4zNyA1IDMuNzQgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMyNThCNjUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDk3LDE1KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjMyIDAgMi42NCAwIDQgMCBDNCAxLjY1IDQgMy4zIDQgNSBDNS42NSA1IDcuMyA1IDkgNSBDOSA2LjY1IDkgOC4zIDkgMTAgQzQuNTQ1IDkuMDEgNC41NDUgOS4wMSAwIDggQzAgNS4zNiAwIDIuNzIgMCAwIFogIiBmaWxsPSIjNDMzMzRCIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4Niw2MSkiLz4KPHBhdGggZD0iTTAgMCBDMS45OCAwIDMuOTYgMCA2IDAgQzcuODU3NzY3NjUgMy4xMzQ5ODI5MiA4LjIwMTQwNDc2IDUuMzc0NzE0MzIgOCA5IEM2LjM1IDkgNC43IDkgMyA5IEMzIDcuMzUgMyA1LjcgMyA0IEMyLjAxIDQgMS4wMiA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMzQjJBNDQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEwMCw2MSkiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgMS42NSA0IDMuMyA0IDUgQzIuNjggNSAxLjM2IDUgMCA1IEMwIDYuNjUgMCA4LjMgMCAxMCBDLTEuMzIgMTAgLTIuNjQgMTAgLTQgMTAgQy00IDguMDIgLTQgNi4wNCAtNCA0IEMtMi42OCA0IC0xLjM2IDQgMCA0IEMwIDIuNjggMCAxLjM2IDAgMCBaICIgZmlsbD0iIzI0MzIzNSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTIsMjgpIi8+CjxwYXRoIGQ9Ik0wIDAgQzEuNjUgMCAzLjMgMCA1IDAgQzUgMS4zMiA1IDIuNjQgNSA0IEM1Ljk5IDQgNi45OCA0IDggNCBDOCA1LjY1IDggNy4zIDggOSBDNi42OCA5IDUuMzYgOSA0IDkgQzQgNy42OCA0IDYuMzYgNCA1IEMyLjY4IDUgMS4zNiA1IDAgNSBDMCAzLjM1IDAgMS43IDAgMCBaICIgZmlsbD0iIzE4MjAyRCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTE1LDE5KSIvPgo8cGF0aCBkPSJNMCAwIEMzLjMgMC4zMyA2LjYgMC42NiAxMCAxIEMxMCAyLjMyIDEwIDMuNjQgMTAgNSBDNi43IDUgMy40IDUgMCA1IEMwIDMuMzUgMCAxLjcgMCAwIFogIiBmaWxsPSIjMTYxODI2IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg3OCw0MikiLz4KPHBhdGggZD0iTTAgMCBDMS4zMiAwIDIuNjQgMCA0IDAgQzQgMS4zMiA0IDIuNjQgNCA0IEM0Ljk5IDQgNS45OCA0IDcgNCBDNyA1Ljk4IDcgNy45NiA3IDEwIEM2LjAxIDEwIDUuMDIgMTAgNCAxMCBDNCA4LjM1IDQgNi43IDQgNSBDMi42OCA1IDEuMzYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxNzI0MjkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc1LDI4KSIvPgo8cGF0aCBkPSJNMCAwIEMyLjk3IDAgNS45NCAwIDkgMCBDNy42OCAwLjMzIDYuMzYgMC42NiA1IDEgQzQuNjcgMi42NSA0LjM0IDQuMyA0IDYgQzMuMDEgNiAyLjAyIDYgMSA2IEMwLjY3IDcuMzIgMC4zNCA4LjY0IDAgMTAgQzAgNi43IDAgMy40IDAgMCBaICIgZmlsbD0iIzI1MzEzQiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAzLDk1KSIvPgo8cGF0aCBkPSJNMCAwIEM0Ljk1IDAgOS45IDAgMTUgMCBDMTUgMS4zMiAxNSAyLjY0IDE1IDQgQzEyLjM2IDQgOS43MiA0IDcgNCBDNy4zMyAzLjAxIDcuNjYgMi4wMiA4IDEgQzUuMzYgMSAyLjcyIDEgMCAxIEMwIDAuNjcgMCAwLjM0IDAgMCBaICIgZmlsbD0iIzYxQzM1MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODgsODkpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIgMiAyIDIgMi4xOTUzMTI1IDMuOTQ1MzEyNSBDMi4xMzAyMDgzMyA1Ljk2MzU0MTY3IDIuMDY1MTA0MTcgNy45ODE3NzA4MyAyIDEwIEMwLjY4IDEwIC0wLjY0IDEwIC0yIDEwIEMtMi4zMyA3LjM2IC0yLjY2IDQuNzIgLTMgMiBDLTIuMDEgMiAtMS4wMiAyIDAgMiBDMCAxLjM0IDAgMC42OCAwIDAgWiAiIGZpbGw9IiMzODk3NUQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDE4LDE0KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjMyIDAgMi42NCAwIDQgMCBDNCAyLjk3IDQgNS45NCA0IDkgQzIuNjggOSAxLjM2IDkgMCA5IEMwIDYuMDMgMCAzLjA2IDAgMCBaICIgZmlsbD0iIzM2MjU0MCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDEsNjEpIi8+CjxwYXRoIGQ9Ik0wIDAgQzMuOTYgMCA3LjkyIDAgMTIgMCBDMTIgMC45OSAxMiAxLjk4IDEyIDMgQzguMzcgMyA0Ljc0IDMgMSAzIEMwLjY3IDIuMDEgMC4zNCAxLjAyIDAgMCBaICIgZmlsbD0iIzEyMTAyNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOTYsMTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNjQgMCA1LjI4IDAgOCAwIEM4IDEuMzIgOCAyLjY0IDggNCBDNS4zNiA0IDIuNzIgNCAwIDQgQzAgMi42OCAwIDEuMzYgMCAwIFogIiBmaWxsPSIjMTUxNDI4IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg4OCw0NykiLz4KPHBhdGggZD0iTTAgMCBDMC45OSAwIDEuOTggMCAzIDAgQzMgMy4zIDMgNi42IDMgMTAgQzIuMDEgMTAgMS4wMiAxMCAwIDEwIEMwIDYuNyAwIDMuNCAwIDAgWiAiIGZpbGw9IiMxNzE0MjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyMywyOCkiLz4KPHBhdGggZD0iTTAgMCBDMC45OSAwIDEuOTggMCAzIDAgQzMgMy4zIDMgNi42IDMgMTAgQzIuMDEgMTAgMS4wMiAxMCAwIDEwIEMwIDYuNyAwIDMuNCAwIDAgWiAiIGZpbGw9IiMxNzEzMjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDQsMjgpIi8+CjxwYXRoIGQ9Ik0wIDAgQzAgMS4zMiAwIDIuNjQgMCA0IEMtMi45NyA0IC01Ljk0IDQgLTkgNCBDLTkgMy4wMSAtOSAyLjAyIC05IDEgQy0yLjI1IDAgLTIuMjUgMCAwIDAgWiAiIGZpbGw9IiMxNDExMjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyLDQyKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjMzIDAuNjYgMC42NiAxLjMyIDEgMiBDMS42NiAyLjMzIDIuMzIgMi42NiAzIDMgQzIuNjcgNS4zMSAyLjM0IDcuNjIgMiAxMCBDMS4wMSAxMCAwLjAyIDEwIC0xIDEwIEMtMC42NyA2LjcgLTAuMzQgMy40IDAgMCBaICIgZmlsbD0iIzNBODA1QSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTEzLDE0KSIvPgo8cGF0aCBkPSJNMCAwIEMwLjk5IDAgMS45OCAwIDMgMCBDMyAyLjY0IDMgNS4yOCAzIDggQzIuMDEgOCAxLjAyIDggMCA4IEMwIDUuMzYgMCAyLjcyIDAgMCBaICIgZmlsbD0iIzEzOTg2MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoOCwyOSkiLz4KPHBhdGggZD0iTTAgMCBDMC45OSAwIDEuOTggMCAzIDAgQzMgMi42NCAzIDUuMjggMyA4IEMxLjY4IDggMC4zNiA4IC0xIDggQy0xIDcuMzQgLTEgNi42OCAtMSA2IEMtMC4wMSA2IDAuOTggNiAyIDYgQzIgNS4zNCAyIDQuNjggMiA0IEMxLjM0IDQgMC42OCA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxNDlCNUQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgwLDI0KSIvPgo8cGF0aCBkPSJNMCAwIEMwIDAuNjYgMCAxLjMyIDAgMiBDLTAuOTkgMiAtMS45OCAyIC0zIDIgQy0zIDIuNjYgLTMgMy4zMiAtMyA0IEMtNC42NSA0IC02LjMgNCAtOCA0IEMtOCAzLjAxIC04IDIuMDIgLTggMSBDLTUuMjM3MzU3MTEgMC40MDI2NzE4MSAtMi44Mzk2NzIzMSAwIDAgMCBaICIgZmlsbD0iIzlDREE2MiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODQsNTIpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNjQgMC4zMyA1LjI4IDAuNjYgOCAxIEM4IDIuMzIgOCAzLjY0IDggNSBDNi42OCA1IDUuMzYgNSA0IDUgQzQgMy42OCA0IDIuMzYgNCAxIEMyLjY4IDAuNjcgMS4zNiAwLjM0IDAgMCBaICIgZmlsbD0iIzY2QTE1RCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzYsMTQpIi8+CjxwYXRoIGQ9Ik0wIDAgQzIuNDc1IDAuNDk1IDIuNDc1IDAuNDk1IDUgMSBDNSAyLjMyIDUgMy42NCA1IDUgQzMuMzUgNSAxLjcgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxNzE4MjgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDM1LDE0KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY1IDAgMy4zIDAgNSAwIEM1IDEuMzIgNSAyLjY0IDUgNCBDMy4zNSA0IDEuNyA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxQThDNTYiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDc1LDQ3KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY1IDAgMy4zIDAgNSAwIEM1IDEuMzIgNSAyLjY0IDUgNCBDMy4zNSA0IDEuNyA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiMxQzg4NTgiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUxLDQ3KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjMyIDAgMi42NCAwIDQgMCBDNCAxLjY1IDQgMy4zIDQgNSBDMi42OCA1IDEuMzYgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMxNzE2MkIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg0LDIzKSIvPgo8cGF0aCBkPSJNMCAwIEMxLjY1IDAgMy4zIDAgNSAwIEM1IDEuMzIgNSAyLjY0IDUgNCBDMy4zNSA0IDEuNyA0IDAgNCBDMCAyLjY4IDAgMS4zNiAwIDAgWiAiIGZpbGw9IiM2MkJBNUQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDgzLDE5KSIvPgo8cGF0aCBkPSJNMCAwIEMxLjMyIDAgMi42NCAwIDQgMCBDMy42NyAxLjY1IDMuMzQgMy4zIDMgNSBDMi4wMSA1IDEuMDIgNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiM1OEJGNTUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUyLDMzKSIvPgo8cGF0aCBkPSJNMCAwIEMwLjk5IDAgMS45OCAwIDMgMCBDMi42ODc1IDIuMzc1IDIuNjg3NSAyLjM3NSAyIDUgQzEuMDEgNS42NiAwLjAyIDYuMzIgLTEgNyBDLTEuMzMgNi4zNCAtMS42NiA1LjY4IC0yIDUgQy0xLjM0IDUgLTAuNjggNSAwIDUgQzAgMy4zNSAwIDEuNyAwIDAgWiAiIGZpbGw9IiMyNTIwMzIiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDIyLDYwKSIvPgo8L3N2Zz4K";

        BadgeFormat badgeFormat = new BadgeFormatBuilder(Integer.valueOf(openedIssues).toString()) // right-side message (required)
                .withLabel("Opened issues:") // left-side message (optional)
                .withLabelColor(NamedColor.GREY) // left-side background color (default: GREY)
                .withLogo(logo)
                .withMessageColor(NamedColor.BRIGHTGREEN) // right-side background color (default: BRIGHTGREEN)
                .build();

        return new ResponseEntity<>(BadgeMaker.makeBadge(badgeFormat), HttpStatus.OK);
    }

    private ProjectDTO mapProjectToDTO(Project project) {
        return new ProjectDTO(project);
    }

}
